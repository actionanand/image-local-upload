import{a as N}from"./chunk-ZRMNOIIR.js";import{a as D,c as I,d as E}from"./chunk-R2WSOXDL.js";import{Aa as o,Ba as i,Ca as y,Da as M,Ea as x,Fa as d,Ha as a,Ia as p,O as l,Oa as T,T as g,U as v,Wa as k,X as O,Xa as P,Ya as S,_ as w,cb as R,d as u,ja as s,pa as c,ra as C,za as f}from"./chunk-RIYN7M7Q.js";var A=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",loadComponent:()=>import("./chunk-T23I52LQ.js").then(e=>e.Home)},{path:"detail/:id",loadComponent:()=>import("./chunk-S5SU5I5N.js").then(e=>e.ImageDetail)},{path:"**",redirectTo:"/home"}];var V={providers:[w(),T({eventCoalescing:!0}),E(A)]};function U(e,n){if(e&1&&(o(0,"div",2)(1,"span",3),a(2),i()()),e&2){let t=n.$implicit;f("ngClass",t.type),s(2),p(t.message)}}var _=class e{toastService=l(R);destroyRef=l(O);toastSub=new u;activeToasts=[];counter=0;ngOnInit(){this.toastSub=this.toastService.toast$.subscribe(n=>{let t={id:Date.now(),message:n.message||"Notification",type:n.type||"info",duration:n.duration||3e3};this.activeToasts.push(t),setTimeout(()=>{this.activeToasts=this.activeToasts.filter(r=>r.id!==t.id)},t.duration)}),this.destroyRef.onDestroy(()=>{this.toastSub&&this.toastSub.unsubscribe()})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=c({type:e,selectors:[["app-toast"]],decls:2,vars:1,consts:[[1,"toast-container"],["class","toast",3,"ngClass",4,"ngFor","ngForOf"],[1,"toast",3,"ngClass"],[1,"toast-message"]],template:function(t,r){t&1&&(o(0,"div",0),C(1,U,3,2,"div",1),i()),t&2&&(s(),f("ngForOf",r.activeToasts))},dependencies:[P,k],styles:[".toast-container[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:50%;transform:translate(-50%);z-index:1000;display:flex;flex-direction:column;gap:10px;min-width:250px}.toast[_ngcontent-%COMP%]{padding:15px 20px;border-radius:6px;box-shadow:0 3px 10px #0003;display:flex;align-items:center;justify-content:center;text-align:center;animation:_ngcontent-%COMP%_slideUp .3s forwards,_ngcontent-%COMP%_fadeOut .3s forwards;animation-delay:0s,calc(var(--duration, 3000) * 1ms - .3s);--duration: 3000;pointer-events:auto;color:#fff;font-weight:500}.toast-message[_ngcontent-%COMP%]{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100%}.success[_ngcontent-%COMP%]{background-color:#4caf50}.error[_ngcontent-%COMP%]{background-color:#f44336}.info[_ngcontent-%COMP%]{background-color:#2196f3}.warning[_ngcontent-%COMP%]{background-color:#ff9800}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_fadeOut{0%{opacity:1}to{opacity:0}}"]})};function z(e,n){if(e&1){let t=M();o(0,"div",1),x("click",function(m){g(t);let L=d();return v(L.onOverlayClick(m))}),o(1,"div",2)(2,"div",3),a(3),i(),o(4,"div",4)(5,"button",5),x("click",function(){g(t);let m=d();return v(m.confirm())}),a(6,"Yes"),i(),o(7,"button",6),x("click",function(){g(t);let m=d();return v(m.cancel())}),a(8,"No"),i()()()()}if(e&2){let t=d();s(3),p(t.activeConfirmation.message)}}var b=class e{confirmationService=l(N);subscription=new u;activeConfirmation=null;ngOnInit(){this.subscription=this.confirmationService.confirm$.subscribe(n=>{this.activeConfirmation=n})}confirm(){if(this.activeConfirmation){let n=this.activeConfirmation.resolve;this.activeConfirmation=null,setTimeout(()=>n(!0),0)}}cancel(){this.activeConfirmation&&(this.activeConfirmation.resolve(!1),this.activeConfirmation=null)}onOverlayClick(n){n.target.classList.contains("confirmation-overlay")&&this.cancel()}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=c({type:e,selectors:[["app-confirmation"]],decls:1,vars:1,consts:[["class","confirmation-overlay",3,"click",4,"ngIf"],[1,"confirmation-overlay",3,"click"],[1,"confirmation-dialog"],[1,"confirmation-message"],[1,"confirmation-actions"],[1,"confirm-btn",3,"click"],[1,"cancel-btn",3,"click"]],template:function(t,r){t&1&&C(0,z,9,1,"div",0),t&2&&f("ngIf",r.activeConfirmation)},dependencies:[S],styles:[".confirmation-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1010}.confirmation-dialog[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:20px;width:350px;box-shadow:0 5px 15px #0000004d}.confirmation-message[_ngcontent-%COMP%]{margin-bottom:20px;text-align:center;font-size:16px}.confirmation-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px}.confirm-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{padding:8px 20px;border:none;border-radius:4px;cursor:pointer}.confirm-btn[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.cancel-btn[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#333}"]})};var h=class e{title="Image Local Upload";static \u0275fac=function(t){return new(t||e)};static \u0275cmp=c({type:e,selectors:[["app-root"]],decls:11,vars:1,consts:[[1,"app-container"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"header")(2,"h1"),a(3),i()(),o(4,"main"),y(5,"router-outlet"),i(),o(6,"footer")(7,"p"),a(8,"Angular Image Upload & Base64 Viewer"),i()(),y(9,"app-toast")(10,"app-confirmation"),i()),t&2&&(s(3),p(r.title))},dependencies:[I,_,b],encapsulation:2})};D(h,V).catch(e=>console.error(e));
