import{K as g,j as r}from"./chunk-RIYN7M7Q.js";var o=class a{images=[];imagesSubject=new r([]);images$=this.imagesSubject.asObservable();constructor(){this.loadImages()}loadImages(){let e=localStorage.getItem("uploadedImages");e&&(this.images=JSON.parse(e),this.imagesSubject.next([...this.images]))}saveImages(){localStorage.setItem("uploadedImages",JSON.stringify(this.images)),this.imagesSubject.next([...this.images])}uploadImage(e){return new Promise((t,n)=>{let s=new FileReader;s.onload=i=>{let I=i.target?.result,m={id:Date.now().toString(),name:e.name,base64:I,type:e.type,date:new Date};this.images.push(m),this.saveImages(),t(m)},s.onerror=i=>n(i),s.readAsDataURL(e)})}getImages(){return[...this.images]}getImageById(e){return this.images.find(t=>t.id===e)}deleteImage(e){this.images=this.images.filter(t=>t.id!==e),this.saveImages()}static \u0275fac=function(t){return new(t||a)};static \u0275prov=g({token:a,factory:a.\u0275fac,providedIn:"root"})};export{o as a};
